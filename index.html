
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Station Insights</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-3.0.0.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; color: #333; }
        .header { background: linear-gradient(90deg, #007bff, #00b4d8); color: white; padding: 2rem; text-align: center; border-radius: 0 0 15px 15px; }
        .section { margin: 2rem auto; max-width: 900px; background: white; padding: 1.5rem; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .plot { width: 100%; height: 400px; }
        .description { font-size: 1rem; color: #666; margin-bottom: 1rem; }
        h2 { color: #007bff; font-weight: 600; }
        .stat { font-weight: bold; color: #333; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Weather Station Insights</h1>
        <p>A personal exploration of local weather patterns from my Ambient Weather Station</p>
    </div>
    
    <div class="container">
        <div class="section">
            <h2>Microclimate Dynamics</h2>
            <p class="description">This section tracks temperature differences between my pool, garage, and outdoor air. The pool averages 5.61°F warmer than outside in summer, while the garage stays 23.81°F warmer year-round, revealing insulation effects and solar heating trends.</p>
            <p class="stat">Pool Gradient: 5.61°F | Garage Gradient: 23.81°F</p>
            <div id="microclimatePlot" class="plot"></div>
        </div>
        
        <div class="section">
            <h2>Soil Moisture Response</h2>
            <p class="description">How does my garden soil react to rain? It takes 2.17 hours on average to peak after a rain event, with a decay rate of 0.001/hr, offering insights into local hydrology and watering needs.</p>
            <p class="stat">Avg Lag: 2.17 hrs | Decay Rate: 0.001/hr</p>
        </div>
        
        <div class="section">
            <h2>Lightning Activity</h2>
            <p class="description">Tracking lightning strikes reveals storm proximity. Over 18946 strikes occurred within 10 miles, showing how often storms hit close to home.</p>
            <p class="stat">Strikes <10 mi: 18946</p>
            <div id="lightningPlot" class="plot"></div>
        </div>
        
        <div class="section">
            <h2>Air Quality (PM2.5)</h2>
            <p class="description">PM2.5 levels indicate air quality impacts. Rain slightly lowers it to 8.16 µg/m³ from 8.34 µg/m³ on dry days, hinting at weather’s cleansing effect.</p>
            <p class="stat">Rainy: 8.16 µg/m³ | Dry: 8.34 µg/m³</p>
        </div>
        
        <div class="section">
            <h2>Wind Patterns</h2>
            <p class="description">Wind direction and speed shape local conditions. Winds persist for 0.17 hours on average, with the rose plot showing dominant directions and speeds.</p>
            <p class="stat">Persistence: 0.17 hrs</p>
            <div id="windPlot" class="plot"></div>
        </div>
        
        <div class="section">
            <h2>Energy Balance</h2>
            <p class="description">Estimating heat flux into my pool averages 807.46 W, peaking in summer due to solar input. This models energy dynamics at my site.</p>
            <p class="stat">Pool Flux: 807.46 W</p>
            <div id="energyPlot" class="plot"></div>
        </div>
    </div>

    <script>
        // Microclimate Plot
        var microData = {
            x: ["5", "6", "7", "8", "9"],
            y: [4.55, 5.66, 5.74, 4.42, 9.7],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Pool Gradient',
            line: { color: '#007bff' }
        };
        Plotly.newPlot('microclimatePlot', [microData], { title: 'Monthly Pool Gradient (°F)', xaxis: { title: 'Month' }, yaxis: { title: 'Gradient (°F)' } });

        // Lightning Plot
        var lightningData = {
            labels: ["10-20 mi", "<10 mi", ">20 mi"],
            values: [27557, 18946, 13216],
            type: 'pie',
            textinfo: 'label+percent',
            marker: { colors: ['#007bff', '#00b4d8', '#90e0ef'] }
        };
        Plotly.newPlot('lightningPlot', [lightningData], { title: 'Lightning Strike Distances' });

        // Wind Plot
        var windData = [{"theta": 0.0, "r": [18748.0, 699.0, 10.0, 0.0, 0.0]}, {"theta": 45.0, "r": [37114.0, 598.0, 4.0, 0.0, 0.0]}, {"theta": 90.0, "r": [20564.0, 1429.0, 53.0, 4.0, 0.0]}, {"theta": 135.0, "r": [9293.0, 457.0, 6.0, 0.0, 0.0]}, {"theta": 180.0, "r": [6917.0, 255.0, 2.0, 0.0, 0.0]}, {"theta": 224.0, "r": [7108.0, 147.0, 0.0, 0.0, 0.0]}, {"theta": 269.0, "r": [4944.0, 43.0, 0.0, 0.0, 1.0]}, {"theta": 314.0, "r": [7514.0, 140.0, 1.0, 0.0, 0.0]}];
        Plotly.newPlot('windPlot', windData, { title: 'Wind Rose', polar: { radialaxis: { title: 'Speed (mph)' } } });

        // Energy Plot
        var energyData = {
            x: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
            y: [309.82, 526.72, 875.9, 1038.9, 1322.61, 1215.92, 1299.54, 1109.28, 1094.52, 638.39, 256.97, 145.37],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Pool Heat Flux',
            line: { color: '#007bff' }
        };
        Plotly.newPlot('energyPlot', [energyData], { title: 'Monthly Pool Heat Flux (W)', xaxis: { title: 'Month' }, yaxis: { title: 'Flux (W)' } });
    </script>
</body>
</html>
