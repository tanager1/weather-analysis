
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Weather Insights</title>
    <script src="https://cdn.plot.ly/plotly-3.0.0.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        .section { margin: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .plot { width: 100%; height: 400px; }
    </style>
</head>
<body>
    <h1>Personal Weather Insights</h1>
    
    <div class="section">
        <h2>Microclimate</h2>
        <p>Pool Gradient: 5.61°F | Garage Gradient: 23.81°F</p>
        <div id="microclimatePlot" class="plot"></div>
    </div>
    
    <div class="section">
        <h2>Soil Moisture</h2>
        <p>Avg Lag: 2.17 hrs | Decay Rate: 0.001/hr</p>
    </div>
    
    <div class="section">
        <h2>Lightning</h2>
        <p>Strikes <10 mi: 18946</p>
        <div id="lightningPlot" class="plot"></div>
    </div>
    
    <div class="section">
        <h2>PM2.5</h2>
        <p>Rainy: 8.16 µg/m³ | Dry: 8.34 µg/m³</p>
    </div>
    
    <div class="section">
        <h2>Wind</h2>
        <p>Persistence: 0.17 hrs</p>
        <div id="windPlot" class="plot"></div>
    </div>
    
    <div class="section">
        <h2>Energy</h2>
        <p>Pool Flux: 807.46 W</p>
        <div id="energyPlot" class="plot"></div>
    </div>

    <script>
        // Microclimate Plot
        var microData = {
            x: ["5", "6", "7", "8", "9"],
            y: [4.55, 5.66, 5.74, 4.42, 9.7],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Pool Gradient'
        };
        Plotly.newPlot('microclimatePlot', [microData], { title: 'Monthly Pool Gradient (°F)', xaxis: { title: 'Month' }, yaxis: { title: 'Gradient (°F)' } });

        // Lightning Plot
        var lightningData = {
            labels: ["10-20 mi", "<10 mi", ">20 mi"],
            values: [27557, 18946, 13216],
            type: 'pie'
        };
        Plotly.newPlot('lightningPlot', [lightningData], { title: 'Lightning Strike Distances' });

        // Wind Plot
        var windData = [{"theta": 0.0, "r": [18748.0, 699.0, 10.0, 0.0, 0.0]}, {"theta": 45.0, "r": [37114.0, 598.0, 4.0, 0.0, 0.0]}, {"theta": 90.0, "r": [20564.0, 1429.0, 53.0, 4.0, 0.0]}, {"theta": 135.0, "r": [9293.0, 457.0, 6.0, 0.0, 0.0]}, {"theta": 180.0, "r": [6917.0, 255.0, 2.0, 0.0, 0.0]}, {"theta": 224.0, "r": [7108.0, 147.0, 0.0, 0.0, 0.0]}, {"theta": 269.0, "r": [4944.0, 43.0, 0.0, 0.0, 1.0]}, {"theta": 314.0, "r": [7514.0, 140.0, 1.0, 0.0, 0.0]}];
        Plotly.newPlot('windPlot', windData, { title: 'Wind Rose', polar: { radialaxis: { title: 'Speed (mph)' } } });

        // Energy Plot
        var energyData = {
            x: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
            y: [309.82, 526.72, 875.9, 1038.9, 1322.61, 1215.92, 1299.54, 1109.28, 1094.52, 638.39, 256.97, 145.37],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Pool Heat Flux'
        };
        Plotly.newPlot('energyPlot', [energyData], { title: 'Monthly Pool Heat Flux (W)', xaxis: { title: 'Month' }, yaxis: { title: 'Flux (W)' } });
    </script>
</body>
</html>
